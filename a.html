<!DOCTYPE html
    PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en" xml:lang="en">

<head>
    <title>EAMS 3.0.0</title>
    <meta http-equiv="content-type" content="text/html;charset=utf-8" />
    <meta http-equiv="pragma" content="no-cache" />
    <meta http-equiv="cache-control" content="no-cache" />
    <meta http-equiv="expires" content="0" />
    <meta http-equiv="content-style-type" content="text/css" />
    <meta http-equiv="content-script-type" content="text/javascript" />





    <script type="text/javascript" src="/eams/struts/js/base/jquery-1.5.2.js"></script>
    <script type="text/javascript" src="/eams/struts/js/base/jquery.ui.core.js"></script>
    <script type="text/javascript" src="/eams/struts/js/plugins/jquery.subscribe.js"></script>
    <link id="jquery_theme_link" rel="stylesheet" href="/eams/struts/themes/smoothness/jquery-ui.css" type="text/css" />


    <script type="text/javascript" src="/eams/struts/js/struts2/jquery.struts2-3.1.0.js"></script>
    <script type="text/javascript">
        jQuery(document).ready(function () {
            jQuery.scriptPath = "/eams/struts/";
            jQuery.struts2_jquery.minSuffix = "";
            jQuery.ajaxSettings.traditional = true;

            jQuery.ajaxSetup({
                cache: false
            });
        });
    </script>
    <link id="beangle_theme_link" href="/eams/static/themes/default/beangle-ui.css" rel="stylesheet" type="text/css" />
    <link href="/eams/static/themes/default/colorbox.css" rel="stylesheet" type="text/css" />
    <script type="text/javascript" src="/eams/static/scripts/colorbox/jquery-colorbox-1.3.17.1.js"></script>
    <script type="text/javascript" src="/eams/static/scripts/history/history.adapter.jquery.js"></script>
    <script type="text/javascript" src="/eams/pages/scripts/history/history.js"></script>
    <script type="text/javascript" src="/eams/static/scripts/history/history.html4.js"></script>
    <script type="text/javascript" src="/eams/static/scripts/beangle/beangle-2.4.4.js"></script>
    <script type="text/javascript" src="/eams/static/scripts/beangle/beangle-ui-2.4.4.js"></script>
    <script type="text/javascript" src="/eams/static/scripts/my97/WdatePicker-4.72.js"></script>

</head>

<body>

    <div id="toolbar951849611"></div>
    <script type="text/javascript">
        bar = bg.ui.toolbar("toolbar951849611", 'Student Course Table');

        bar.addHr();
    </script>
    <div
        style="background: url('/eams/static/images/semesterBarBg.png') repeat-x scroll 50% 50% #DEEDF7;border: 1px solid #AED0EA;color: #222222;font-weight: bold;height:28px;">
        <form id="courseTableForm" name="courseTableForm" action="/eams/courseTableForStd!index.action" method="post"
            target="main">
            <div style="margin-left:4px;margin-top:2px;float:left;line-height:22px;height:22px;">
                <input type="hidden" name="ignoreHead" value="1" />
                <label for="courseTableType" class="title">课表类型:</label>
                <select id="courseTableType" name="setting.kind" onChange="searchTable()" style="width:120px">
                    <option value="std">Student Course Table</option>
                    <option value="class">class course table</option>
                </select>
                |
                <label for="startWeek" class="title">选择教学周:</label>
                <select id="startWeek" name="startWeek" onchange="searchTable()">
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5</option>
                    <option value="6">6</option>
                    <option value="7">7</option>
                    <option value="8">8</option>
                    <option value="9">9</option>
                    <option value="10">10</option>
                    <option value="11">11</option>
                    <option value="12">12</option>
                    <option value="13">13</option>
                    <option value="14">14</option>
                    <option value="15">15</option>
                    <option value="16">16</option>
                    <option value="17">17</option>
                    <option value="18">18</option>
                    <option value="19">19</option>
                </select>
                |

            </div>
            <div style="margin-left:10px;margin-top:2px;float:left;line-height:18px;height:22px;">
                <label for="semesterBar1988882908">entity.project:</label>
                <select id="semesterBar1988882908" name="project.id">

                </select>
                <label for="semesterBar1988882908Semester" class="title">学年学期:</label>
                <input id="semesterBar1988882908Semester" class="calendar-text" title="学年学期" type="text" value=""
                    readonly="true" />
                <div class="calendar-bar">
                    <input id="semesterCalendar_target" type="hidden" name="semester.id" value="" />
                    <a name="prev" href="#"><img
                            src="/eams/static/themes/default/images/semesterCalendar_prev.gif" /></a>
                    <input id="semesterCalendar_year" class="calendar-bar-input" type="text" index="0" value=""
                        maxLength="4" size="4" readonly="true" /><span>学年</span>
                    <a name="next" href="#"><img
                            src="/eams/static/themes/default/images/semesterCalendar_next.gif" /></a>

                    <a name="prev" href="#"><img
                            src="/eams/static/themes/default/images/semesterCalendar_prev.gif" /></a>
                    <input id="semesterCalendar_term" class="calendar-bar-input" type="text" index="0" value="" size="4"
                        readonly="true" /><span>学期</span>
                    <a name="next" href="#"><img
                            src="/eams/static/themes/default/images/semesterCalendar_next.gif" /></a>
                    <a href="#" id="allSemester"></a>

                    <table id="semesterCalendar_yearTb">
                        <tbody>
                        </tbody>
                    </table>
                    <table id="semesterCalendar_termTb">
                        <tbody>
                        </tbody>
                    </table>
                </div>
                <script type="text/javascript">
                    if (jQuery.struts2_jquery.scriptCache["/static/scripts/semesterCalendar.js"]) {
                        jQuery("#semesterBar1988882908Semester").semesterCalendar({ empty: "false", onChange: "", value: "737" }, "searchTable()");
                    } else {
                        jQuery.struts2_jquery.require("/static/scripts/semesterCalendar.js", function () {
                            jQuery("#semesterBar1988882908Semester").semesterCalendar({ empty: "false", onChange: "", value: "737" }, "searchTable()");
                        }, '/eams');
                    }
                </script>
                <script type="text/javascript">
                    jQuery("#semesterBar1988882908").val(jQuery.post("/eams/dataQuery.action", { dataType: "projectId" }));
                    jQuery("#semesterBar1988882908").hide();
                    jQuery("#semesterBar1988882908").prev().hide();
                    var semesterBar1988882908res = jQuery.post("/eams/dataQuery.action", { entityId: "" }, function () {
                        if (semesterBar1988882908res.status == 200) {
                            jQuery("#semesterBar1988882908").empty();
                            if (semesterBar1988882908res.responseText != "") {
                                jQuery("#semesterBar1988882908").append(semesterBar1988882908res.responseText);
                            }
                        }
                    }, "text");
                    jQuery("#semesterBar1988882908").change(function () {
                        jQuery.post("/eams/dataQuery!changeProjectId.action", { projectId: this.value }, function () {
                            jQuery("#semesterBar1988882908Semester")[0].getSemesters(jQuery("#semesterBar1988882908Semester"), { empty: "false", value: "737" }, "searchTable()");
                        }, "text");
                    });
                </script>
                <input type="submit" value="切换学期" onclick="refreshTable();return false;" />
            </div>
        </form>
    </div>
    <table class="indexpanel">
        <tr>
            <td class="index_content">
                <div id="contentDiv" class="_ajax_target"></div>
            </td>
        </tr>
    </table>
    <script language="JavaScript">
        var form = document.courseTableForm;
        function searchTable() {
            if (jQuery("#courseTableType").val() == "std") {
                bg.form.addInput(form, "ids", "567403");
            } else {
                bg.form.addInput(form, "ids", "11093");
            }
            bg.form.submit(form, "courseTableForStd!courseTable.action", "contentDiv");
        }

        function refreshTable() {
            if (jQuery("#courseTableType").val() == "std") {
                bg.form.addInput(form, "ids", "567403");
            } else {
                bg.form.addInput(form, "ids", "11093");
            }
            form.action = "courseTableForStd!courseTable.action";
            form.target = "contentDiv";
            bg.form.submit(form, "courseTableForStd!index.action", "main");
        }
        function confirmCourseTable() {
            if (confirm("课表是否确认无误?")) {
                form.target = "main";
                bg.form.addInput(form, "courseTableCheckId", "")
                bg.form.submit(form, "courseTableForStd!confirmCourseTable.action");
                form.target = "contentDiv";
            }
        }
    </script>
</body>

</html>